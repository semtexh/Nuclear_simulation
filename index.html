
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nuclear Fallout Simulator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    select, input { margin: 10px 0; padding: 6px; width: 250px; }
    #map { height: 500px; width: 100%; margin-top: 20px; }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <h1>üåç Fallout Simulator (Single HTML Version)</h1>

  <label for="country">Select Country:</label><br>
  <select id="country">
    <option value="">-- Select Country --</option>
  </select><br>

  <label for="plant">Select Nuclear Plant:</label><br>
  <select id="plant">
    <option value="">-- Select Plant --</option>
  </select>

  <div id="map"></div>

  <script>
    const data = [
      { country: "Iran", name: "Bushehr", lat: 28.8296, lon: 50.8912 },
      { country: "Israel", name: "Dimona", lat: 31.0036, lon: 35.1434 },
      { country: "Russia", name: "Kursk", lat: 51.6600, lon: 35.6833 },
      { country: "Russia", name: "Kalinin", lat: 57.8833, lon: 35.0167 },
      { country: "Germany", name: "Isar", lat: 48.6000, lon: 12.3000 },
      { country: "Germany", name: "Emsland", lat: 52.5000, lon: 7.3167 },
      { country: "United Kingdom", name: "Sizewell", lat: 52.2133, lon: 1.6217 },
      { country: "United Kingdom", name: "Hinkley Point", lat: 51.2090, lon: -3.1558 },
      { country: "Turkey", name: "Akkuyu", lat: 36.1589, lon: 33.5361 },
      { country: "Kuwait", name: "Shuwaikh Research Reactor", lat: 29.3727, lon: 47.9783 }
    ];

    const countrySel = document.getElementById("country");
    const plantSel = document.getElementById("plant");
    let map = L.map("map").setView([35, 45], 4);
    let marker;

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a>'
    }).addTo(map);

    const countries = [...new Set(data.map(d => d.country))].sort();
    for (let country of countries) {
      const opt = document.createElement("option");
      opt.value = country;
      opt.textContent = country;
      countrySel.appendChild(opt);
    }

    countrySel.addEventListener("change", () => {
      const selected = countrySel.value;
      plantSel.innerHTML = '<option value="">-- Select Plant --</option>';
      const plants = data.filter(d => d.country === selected);
      for (let p of plants) {
        const opt = document.createElement("option");
        opt.value = `${p.lat},${p.lon}`;
        opt.textContent = p.name;
        plantSel.appendChild(opt);
      }
    });

    plantSel.addEventListener("change", () => {
      const coords = plantSel.value.split(",");
      const lat = parseFloat(coords[0]);
      const lon = parseFloat(coords[1]);
      map.setView([lat, lon], 7);
      if (marker) map.removeLayer(marker);
      marker = L.marker([lat, lon]).addTo(map).bindPopup(plantSel.options[plantSel.selectedIndex].text).openPopup();
    });
  </script>

    <!-- Fallout Spread Inputs -->
    <div style="margin-top: 20px;">
        <label for="windDirection">Wind Direction (¬∞):</label>
        <input type="number" id="windDirection" placeholder="e.g. 90"><br><br>

        <label for="windSpeed">Wind Speed (km/h):</label>
        <input type="number" id="windSpeed" placeholder="e.g. 30"><br><br>

        <label for="temperature">Temperature:</label>
        <select id="temperature">
            <option value="normal">Normal</option>
            <option value="high">High</option>
            <option value="low">Low</option>
        </select><br><br>

        <label for="precipitation">Precipitation:</label>
        <select id="precipitation">
            <option value="none">None</option>
            <option value="rain">Rain</option>
            <option value="snow">Snow</option>
        </select><br><br>

        <button onclick="simulateFallout()">Simulate Fallout</button>
    </div>

    <script>
    function simulateFallout() {
        const direction = document.getElementById('windDirection').value;
        const speed = document.getElementById('windSpeed').value;
        const temp = document.getElementById('temperature').value;
        const precip = document.getElementById('precipitation').value;

        alert(`Fallout simulated with wind direction ${direction}¬∞, speed ${speed} km/h, temperature ${temp}, precipitation ${precip}.`);
        // Replace this alert with future fallout visualization logic
    }
    </script>
    </body>
    
</html>
